---
sort: 18
---

source: `{{ page.path }}`

# 文件的基本操作

## 操作文件的套路

在计算机中要操作文件的套路非常固定,一共包含三个步骤

1. 打开文件
2. 读/写文件
	- 读 将文件内容读入内存
	- 写 将内存内容写入文件
3. 关闭文件

## 操作文件的函数/方法

在Python中要操作文件需要记住1个函数和3个方法

|序号|函数/方法|说明|
|---|---|---|
|1| open| 打开文件,并且返回文件操作对象|
|2| read| 将文件内容读取到内存|
|3| write| 将指定内存写入文件|
|4|close| 关闭文件|

- `open`函数负责打开文件,并且返回文件对象
- `read/write/close`三个方法都需要通过文件对象来调用

## read方法

- open 函数的第一个参数是要打开的文件名(文件名区分大小写)
	- 如果文件存在,返回文件操作对象
	- 如果文件不存在,会抛出异常
- read 方法可以一次性读入并返回文件的所有内容
- close 方法负责关闭文件
	- 如果忘记关闭文件,会造成系统资源消耗,而且会影响到后续对文件的访问
- **注意**方法执行后,会把文件指针移动到文件的末尾

## 打开文件的方式

- open函数默认以只读方式打开,并且返回文件对象

**语法如下**

----------


	f = open("文件名", "访问方式")


----------

|访问方式|说明|
|:---:|:---|
|r|以只读方式打开文件.文件的指针将会放在文件的开头,这是默认模式.如果文件不存在,抛出异常|
|w|以只写方式打开文件.如果文件存在会被覆盖.如果文件不存在,创建新文件|
|a|以追加方式打开文件.如果该文件已存在,文件指针会放在文件的结尾.如果文件不存在,创建新文件进行写入|
|r+|以读写方式打开文件.文件的指针会放在文件的开头.如果文件不存在,抛出异常|
|w+|以读写方式打开文件.如果文件存在会被覆盖.如果不存在,创建新文件|
|a+|以读写方式打开文件.如果该文件已存在,文件指针将会放在文件的结尾.如果文件不存在,创建新文件进行写入|

### 按行读取文件内容

readline

- readline方法可以一次读取一行内容
- 方法执行后,会把文件指针移动到下一行,准备再次读取

## 文件/目录的常用管理操作

- 在终端/文件浏览器 中可以执行常规的文件/目录 管理操作
	- 创建 重命名 删除 改变路径 查看目录内容....
- 需要导入`os`模块

### 文件操作


----------


|方法名|说明|示例|
|---|---|---|
|rename|重命名文件|os.rename(源文件名, 目标文件名)|
|remove|删除文件|os.remove(文件名)|

### 目录操作


----------

|方法名|说明|示例|
|---|---|---|
|listdir|目录列表|os.listdir(目录名)|
|mkdir|创建目录|os.mkdir(目录名)|
|rmdir|删除目录|os.rmdir(目录名)|
|getcwd|获取当前目录|os.getcwd()|
|chdir|修改工作目录|os.chdir(目标目录)|
|path.isdir|判断是否是文件|os.path.isdir(文件路径)|

> 提示: 文件或者目录操作都支持相对路径和绝对路径


## 文本文件的编码格式

- 文本文件存储的内容是基于字符编码的文件,常见的编码有`ASCII`编码,`UNICODE`编码等

> Python2.x默认是ASCII
> Python3.x默认是UTF-8编码

