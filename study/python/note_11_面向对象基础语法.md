## 面向对象基础语法

### 1 dir内置函数

- Python 中 对象几乎是无所不在的,之前学习的变量/数据/函数都是对象

在Python中可以使用以下两个方法验证:

- 在标识符/数据后输入一个`.`,然后按下`TAB`键,python会提示该对象能够调用的方法列表
- 使用内置函数`dir`传入标识符/数据,可以查看对象内的所有属性及方法

**提示** `__方法名__`格式是Python提供的内置方法/属性,

|序号|方法名|类型|作用|
|---|---|---|---|
|01|`__new__`|方法|创建对象时,会被自动调用|
|02|`__init__`|方法|对象被初始化是,会被自动调用|
|03|`__del__`|方法|对象呗从内存中销毁前,会被自动调用|
|04|`__str__`|方法|返回对象的描述信息,print函数输出使用|


----------

> **提示** 利用好`dir()`函数,在学习时很多内容不需要死记硬背


### 2 定义简单的类(值包含方法)

> 面向对象 是 更大 封装,在一个类中封装多个方法,这样通过类创建出来的对象,就可以直接调用这些方法了


#### 2.1 定义只包含方法的类

- 在`Python`中定义一个只包含方法的类,语法格式如下:


----------

	class 类名:
		def 方法1(self, 参数列表):
			pass
		

		def 方法2(self, 参数列表):
			pass
		...


----------


- 方法 的定义格式和之前学习过的函数几乎一样
- 区别 在于第一个参数必须是`self`

> 注意: 类名的命名规则要符合大驼峰命名法

#### 2.2 创建对象

- 当一个类定义完成之后,要使用这个类来创建对象,语法如下

-----------

	对象变量 = 类名()

-----------


##### 应用概念的强调

> 在面向对象开发中,引用的概念是同样适用的

- 在`Python`中使用类创建对象之后,`tom`变量中仍然记录的是对象在内存中地址
- 也就是`tom`变量引用了新建的cat对象
- 使用print输出对象变量,默认情况下,是能够输出这个变量引用的对象是由哪一个类创建的对象,以及在内存中的地址(十六进制表示)

> 提示: 在计算机中,通常使用十六进制表示内存地址

- %d 可以10进制输出数字
- %x 可以16进制输出数字

### 3 方法中的self参数

#### 3.1 给对象增加属性

- 在Python中,要给对象设置属性,非常榕溪,但是不推荐使用
	- 因为对象属性的封装应该封装在类的内部
- 主需要在类的外部代码中直接通过`.`设置一个属性即可

> **注意: 这种方法虽然简单,但不是推荐使用!!!**

### 4 初始化
#### 4.1 在外界设置属性的问题

- 在日常开发中,不推荐在类的外部给对象增加属性
	- 如果在运行时,没有找到属性,程序会报错
- 对象应该包含有哪些属性,应该封装在类的内部

#### 4.2 初始化方法

- 当使用`类名()`创建对象是,会自动执行以下操作
	1.	为对象在内存中分配空间--创建对象
	2.	为对象的属性设置初始值--初始化方法`init`
- 这个初始化方法就是`__init__`方法,`__init__`是对象的内置方法

> `__init__`方法是专门用来定义一个类具有哪些属性的方法!


#### 4.3 在初始化方法内部定义属性

--------

	def __init__(self):
		pass

----------

#### 4.4 初始化的同时设置初始值

- 在开发中,如果希望创建对象的同时,就设置对象的属性,可以对`__init__`方法进行改造
	1.	把希望设置的属性值,定义成`__init__`方法的参数
	2.	在方法内部使用`self.属性 = 形参`接收外部传递的参数
	3.	在创建对象时,使用`类名(属性1,属性2...)`调用


### 5 内置方法和属性

#### 5.1 __del__方法

- 在Python中
	- 当使用`类名()`创建对象是,为对象分配空间后,自动调用`__init__`方法
	- 当一个对象被从内存中销毁前,会自动调用`__del__`方法


- **应用场景**
	- `__inin__`改造初始化方法,可以让创建对象更加灵活
	- `__del__`如果希望在对象销毁前,再做一些事情,可以考虑一些__del__方法

- 生命周期
	- 一个对象从调用`类名()`创建,生命周期开始
	- 一个对象的`__del__`方法一旦被调用,生命周期结束
	- 在对象的生命周期内,可以访问对象属性,或者让对象调用方法


#### 5.2 __str__方法


- 在`Python`中,使用`print`输出对象变量,默认情况下,会输出这个变量引用的对象是由哪一个类创建的对象,以及在内存中的地址(十六进制表示)
- 如果在开发中,希望使用print输出对象变量时,能够打印自定义的内容,就可以利用`__str__`这个内置方法了

> 注意: `__str__`方法必须返回一个字符串

